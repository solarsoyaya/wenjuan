import{d as B,J as E,c as i,b as l,a as t,u as f,w as d,T as p,C as z,P as v,Q as N,U as _,V as g,r as y,o as a,W as T,k as u,_ as V}from"./index-CorONKRg.js";import{u as H}from"./useEditor-CEeZLYcK.js";const S={class:"container flex self-start align-items-center border-box"},$={class:"left flex justify-content-center align-items-center"},j={class:"center flex align-items-center space-between pl-15 pr-15"},I={key:0},M={key:0},q={key:1},J={key:1},P={class:"right flex justify-content-center align-items-center"},Q=B({__name:"Header",props:{isEditor:{type:Boolean,required:!0},id:{type:String,default:""}},setup(s){const r=z(),o=H(),h=()=>{localStorage.setItem("activeView","home"),r.push("/")},m=s,x=E("https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif");function w(){v.confirm("是否确定重置试卷？已有题目将全部删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{o.resetComs(),N({type:"success",message:"已重置"})}).catch(()=>{console.log("取消重置")})}function k(){_(o).then(c=>{r.push(`/editor/${c}/survey-type`)})}function b(){v.confirm("预览会保存问卷，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{m.id?g(o,Number(m.id)).then(()=>{r.push({path:`/preview/${m.id}`,state:{from:"editor"}})}):_(o).then(c=>{r.push({path:`/preview/${c}`,state:{from:"editor"}})})}).catch(()=>{console.log("取消预览")})}return(c,e)=>{const n=y("el-button"),C=y("el-avatar");return a(),i("div",null,[l("div",S,[l("div",$,[t(n,{icon:f(T),circle:"",size:"small",onClick:h},null,8,["icon"])]),l("div",j,[s.isEditor?(a(),i("div",I,[s.id?(a(),i("div",M,[t(n,{type:"warning",size:"small",onClick:e[0]||(e[0]=R=>f(g)(f(o),Number(s.id)))},{default:d(()=>e[1]||(e[1]=[u("更新问卷")])),_:1})])):(a(),i("div",q,[t(n,{type:"danger",size:"small",onClick:w},{default:d(()=>e[2]||(e[2]=[u("重置问卷")])),_:1}),t(n,{type:"success",size:"small",onClick:k},{default:d(()=>e[3]||(e[3]=[u("保存问卷")])),_:1})]))])):p("",!0),s.isEditor?(a(),i("div",J,[t(n,{type:"primary",size:"small",onClick:b},{default:d(()=>e[4]||(e[4]=[u("预览")])),_:1})])):p("",!0)]),l("div",P,[t(C,{size:30,src:x.value},null,8,["src"])])])])}}}),A=V(Q,[["__scopeId","data-v-18cb79a4"]]);export{A as H};
